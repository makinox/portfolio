---
import type { ProjectType } from '@/data/projects';
import Link from './Link.astro';

const { title, techList, app, repo } = Astro.props as ProjectType;

const getSortedButtons = () => {
  const buttonMemo = [];
  if (app) buttonMemo.push({ href: app, text: 'Visit' });
  if (repo) buttonMemo.push({ href: repo, text: 'Repo' });
  return buttonMemo;
};

const techText = techList.join(', ');
const buttons = getSortedButtons();
---

<article>
  <h3 class="text-2xl font-semibold my-2">{title}</h3>
  <p>{techText}</p>
  <div class="flex gap-x-4 items-center">
    {buttons.map((button) => <Link href={button.href} name={button.text} />)}
  </div>
</article>
